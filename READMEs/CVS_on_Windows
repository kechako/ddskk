-*- outline -*- 

$Date: 1999/11/28 12:33:16 $
$Id: CVS_on_Windows,v 1.1 1999/11/28 12:33:16 minakaji Exp $

[cvs on Windows 95/NT Windows 95 で動作確認済み (NT では未確認)] 

* cvs.exe はどれを使うのでしょう？

Cygwin 環境で、ソースからコンパイルしましょう。理由を以下に述べます。
CVS ではリポジトリの行末コードは正規化されるので、Windows 用にコンパイ
ルされた cvs のバイナリーで checkout すると LF なファイルが CRLF にな
ります。

SKK 10.x (Maintrunk) 及び Daredevil SKK 11.1 は主に UNIX 上で開発され
ているので、主なファイルの行末コードは LF であり、Windows 専用のファイ
ルのみ CRLF にしています。これらを Windows 用の cvs.exe で update する
と、LF は CRLF になり、CRLF は CRCRLF になってしまいます。

このように行末コードが変更されてしまうと、diff を取ったり patch を当て
たりするときに不便なので、行末コードを Windows native に正規化しない
(UNIX と同様に扱う) Cygwin でソースからコンパイルすつことを推奨します。

* cvs の version は？  またどこから get できますか？

cvs のバージョンは、1.10.7 以上が良いようです (それ以下のバージョンで
はコンパイルエラーが出ることがあります)。1.10.7 は例えば、

  http://download.cyclic.com/pub/cvs-1.10.7/cvs-1.10.7.tar.gz

から get できます。

* cvs.exe をコンパイルできたら、次は...？

LF を LF のまま checkout するためには Cygwin でコンパイルした cvs をバ
イナリマウントした filesystem 上で使う必要があります。checkout するド
ライブをバイナリマウントするには、下記のように設定して下さい。

** ドライブが複数あり、バイナリマウント専用のドライブを用意できる場合。

下記のコマンドにより、ルート以外のドライブをバイナリマウントします。

  % mount -b d: /d

** ドライブがひとつしかない場合。

ドライブを c ドライブと仮定します。checkout の度に下記の 3 つのコマン
ドを実行する必要があります。

(1) % umount / ; mount -b c: /

(2) % cvs checkout .... (.... には必要な引数を指定してね)

(3)% umount / ; mount c: /

  注1; umount を実行したウィンドウを閉じる前に、こののコマンドを実行す
       る必要があります。
       これを忘れると、次回に bash を立ち上げたときに表示が乱れ、外
       部コマンドが実行できなくなるので要注意 (こうなるとレジストリを
       いじって回復するしかなくなります。)

  注2; .bashrc の行末コードは必ず LF にしておいて下さい。

[End of CVS_on_Widows]
