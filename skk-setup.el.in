;;; skk-setup.el --- initial setup for SKK  -*- emacs-lisp -*-

;; Copyright (C) 2000 NAKAJIMA Mikio <minakaji@osaka.email.ne.jp>

;; Author: NAKAJIMA Mikio <minakaji@osaka.email.ne.jp>
;; Maintainer: SKK Development Team <skk@ring.gr.jp>
;; Version: $Id: skk-setup.el.in,v 1.25 2002/01/17 13:27:47 czkmt Exp $
;; Keywords: japanese, mule, input method
;; Last Modified: $Date: 2002/01/17 13:27:47 $

;; This file is part of Daredevil SKK.

;; Daredevil SKK is free software; you can redistribute it and/or
;; modify it under the terms of the GNU General Public License as
;; published by the Free Software Foundation; either version 2, or
;; (at your option) any later version.

;; Daredevil SKK is distributed in the hope that it will be useful,
;; but WITHOUT ANY WARRANTY; without even the implied warranty of
;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
;; General Public License for more details.

;; You should have received a copy of the GNU General Public License
;; along with Daredevil SKK, see the file COPYING.  If not, write to
;; the Free Software Foundation Inc., 59 Temple Place - Suite 330,
;; Boston, MA 02111-1307, USA.

;;; Commentary:

;;; Code:

;;; `load-path' setting.
(cond
 ((featurep 'xemacs)
  (when (< emacs-major-version 21)
    ;; From Naoki Wakamatsu <naoki-w@ht-net21.ne.jp>
    ;;
    ;; XEmacs 20.4 (Mule) includes SKK 10.38 and loads skk-leim.el on dump,
    ;; and skk/auto-autoloads.el on initialization.
    ;;
    ;; For overriding those, the following files needs to be loaded.
    (load "skk-autoloads")
    (load "skk-leim")))
 ((fboundp 'normal-top-level-add-subdirs-to-load-path)
  ;; Emacs 20.3 or later. `load-path' is constructed automatically.
  nil)
 (t
  ;; Emacs 19 and 20.2
  (condition-case nil
      (require 'path-util)
    (error
     (require 'path-util "apel/path-util")))
  (add-path "apel")
  (add-path "skk")
  (add-path "nicola-ddskk")))

;;; Autoloads.
(if (not (featurep 'xemacs))
    (require 'skk-autoloads))

;;; Key bindings.
(global-set-key "\C-x\C-j" 'skk-mode)
(global-set-key "\C-xj" 'skk-auto-fill-mode)
(global-set-key "\C-xt" 'skk-tutorial)

;;; Dictionaries.
;;(defvar skk-large-jisyo "@DIC@")
;;(defvar skk-aux-large-jisyo "@AUXDIC@")
;;(defvar skk-tut-file "@TUT@")

;;; Isearch setting.
(add-hook 'isearch-mode-hook
	  (lambda ()
	    (if (and (boundp 'skk-mode)
		     skk-mode)
		(skk-isearch-mode-setup))))
(add-hook 'isearch-mode-end-hook
	  (lambda ()
	    (if (featurep 'skk-isearch)
		(skk-isearch-mode-cleanup))))

(provide 'skk-setup)

;;; skk-setup.el ends here
